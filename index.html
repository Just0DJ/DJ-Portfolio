<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DiJay's Portfolio - Mechanical Engineer, Photographer, and Aspiring Coder">
    <meta name="keywords" content="portfolio, mechanical engineer, CAD, robotics, photography">
    <title>DiJay Portfolio</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-color: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --text-color: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #999999;
            --accent-color: #00d4ff;
            --border-color: #333333;
            --bg-color-rgb: 10, 10, 10;
            --bg-secondary-rgb: 26, 26, 26;
            --content-width: 1040px;
            --content-pad: 2rem;
            /* Gradient theme variables */
            --grad1: #00d4ff;
            --grad2: #5f27cd;
            --grad3: #4ecdc4;
            /* Frosted glass variables */
            --frost-bg: rgba(26, 37, 58, 0.6);
            --frost-bg-light: rgba(245, 245, 250, 0.6);
            --frost-border: rgba(200, 200, 200, 0.30);
            --frost-shadow: 0 8px 32px 0 rgba(30, 30, 60, 0.36);
            --frost-blur: 20px;
        }

        [data-theme="light"] {
            --bg-color: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-color: #333333;
            --text-secondary: #666666;
            --text-muted: #999999;
            --accent-color: #007acc;
            --border-color: #e9ecef;
            --bg-color-rgb: 255, 255, 255;
            --bg-secondary-rgb: 248, 249, 250;
        }

        body {
            font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.75;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Frosted Glass Effect */
        .frost {
            background: var(--frost-bg);
            border-radius: 20px;
            box-shadow: var(--frost-shadow);
            border: 1px solid var(--frost-border);
            backdrop-filter: blur(var(--frost-blur));
            transition: background 0.3s, color 0.3s;
        }

        [data-theme="light"] .frost {
            background: var(--frost-bg-light);
            box-shadow: 0 4px 24px 0 rgba(80, 80, 130, 0.16);
            border: 1px solid rgba(120, 120, 120, 0.18);
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Intro Section */
        .intro {
            display: grid;
            place-items: center;
            height: 100vh;
            text-align: center;
            font-size: 2.5em;
            background: linear-gradient(135deg, var(--bg-color) 0%, var(--bg-secondary) 100%);
            position: relative;
            transition: opacity 2s ease-in-out;
        }

        .intro span {
            grid-area: 1/1;
            opacity: 0;
            animation: fadeInOut 1.5s linear forwards;
            font-weight: 300;
            letter-spacing: 2px;
            white-space: nowrap;
        }

        .intro span:nth-child(1) {
            animation-delay: 0s;
        }

        .intro span:nth-child(2) {
            animation-delay: 1.5s;
        }

        .intro span:nth-child(3) {
            animation-delay: 3s;
        }

        .intro span:nth-child(4) {
            animation-delay: 4.5s;
        }

        .intro span:nth-child(5) {
            animation-delay: 6s;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            10% {
                opacity: 1;
                transform: translateY(0);
            }

            90% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        /* Main Content */
        .main {
            display: none;
            opacity: 0;
            transition: opacity 2s ease-in-out;
        }

        .main.active {
            display: block;
            opacity: 1;
            padding-top: 0;
        }

        /* Top Navigation */
        .top-navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(var(--bg-color-rgb, 10, 10, 10), 0.9);
            backdrop-filter: blur(10px);
            z-index: 1001;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            display: none;
            /* Hide top menu bar */
        }

        .top-nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .top-logo {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .top-nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .top-nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
            position: relative;
        }

        .top-nav-menu a:hover {
            color: var(--accent-color);
        }

        .top-nav-menu a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -3px;
            left: 0;
            background-color: var(--accent-color);
            transition: width 0.3s ease;
        }

        .top-nav-menu a:hover::after {
            width: 100%;
        }

        .top-theme-toggle {
            background: none;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 0.6rem 1rem;
            border-radius: 999px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        }

        .top-theme-toggle:hover {
            background: var(--accent-color);
            color: var(--bg-color);
            transform: translateY(-2px);
            box-shadow: 0 10px 22px rgba(0, 0, 0, 0.3);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, var(--bg-color) 0%, var(--bg-secondary) 50%, var(--bg-color) 100%);
            position: relative;
            padding: 0 2rem;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23333" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 1.25rem;
            max-width: var(--content-width);
            margin: 0 auto;
            width: 100%;
        }

        .hero-topbar {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .hero-avatar {
            display: flex;
            align-items: center;
            gap: 0.85rem;
        }

        .hero-avatar img {
            width: 56px;
            height: 56px;
            border-radius: 999px;
            border: 1px solid var(--border-color);
            object-fit: cover;
            box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
        }

        .hero-theme-toggle {
            background: rgba(var(--bg-secondary-rgb, 26, 26, 26), 0.65);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: 999px;
            padding: 0.55rem;
            cursor: pointer;
            transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
            width: 42px;
            height: 42px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            line-height: 0;
        }

        .hero-theme-toggle:hover {
            transform: translateY(-1px);
            color: var(--text-color);
            border-color: var(--accent-color);
        }

        .hero-theme-toggle svg {
            width: 18px;
            height: 18px;
            display: block;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--accent-color), var(--text-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 1s ease-out;
            font-weight: 600;
        }

        .hero .subtitle {
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
            color: var(--text-secondary);
            animation: fadeInUp 1s ease-out 0.2s both;
            font-weight: 500;
        }

        .hero .tagline {
            font-size: 1.05rem;
            margin-bottom: 0.5rem;
            color: var(--text-muted);
            animation: fadeInUp 1s ease-out 0.4s both;
            max-width: 60ch;
            line-height: 1.75;
        }

        .hero-actions {
            display: flex;
            gap: 0.85rem;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease-out 0.6s both;
            margin-top: 0.5rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.85rem 1.2rem;
            border-radius: 999px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: transform 0.2s ease, background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            border: 1px solid var(--border-color);
        }

        .btn-primary {
            background: var(--accent-color);
            color: var(--bg-color);
            border-color: var(--accent-color);
        }

        .btn-secondary {
            background: rgba(var(--bg-secondary-rgb, 26, 26, 26), 0.65);
            color: var(--text-color);
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .hero-links {
            margin-top: 0.75rem;
            font-size: 0.95rem;
            color: var(--text-muted);
            animation: fadeInUp 1s ease-out 0.75s both;
        }

        .hero-links a {
            color: var(--text-secondary);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: color 0.2s ease, border-color 0.2s ease;
        }

        .hero-links a:hover {
            color: var(--accent-color);
            border-bottom-color: var(--accent-color);
        }

        .hero-links-sep {
            margin: 0 0.5rem;
            color: var(--text-muted);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Section Styles */
        .section {
            padding: 5rem var(--content-pad);
            max-width: var(--content-width);
            margin: 0 auto;
            scroll-margin-top: 96px;
        }

        /* Small section separator line */
        .section::after {
            content: '';
            display: block;
            width: 64px;
            height: 2px;
            margin: 2rem auto 0;
            border-radius: 2px;
            background: var(--border-color);
            opacity: 0.8;
        }

        .section-title {
            font-size: 1.9rem;
            text-align: left;
            margin-bottom: 1.5rem;
            color: var(--accent-color);
            position: relative;
            font-weight: 600;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            transform: none;
            width: 80px;
            height: 2px;
            background: var(--accent-color);
        }

        /* Skills Section */
        .skills {
            background: var(--bg-color);
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .skill-category {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .skill-category:hover {
            transform: translateY(-3px);
            border-color: var(--accent-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .skill-category h3 {
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .skill-list {
            list-style: none;
        }

        .skill-list li {
            padding: 0.3rem 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border-color);
        }

        .skill-list li:last-child {
            border-bottom: none;
        }

        .skill-expand-btn {
            margin-top: 0.75rem;
            padding: 0.5rem 1rem;
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: 20px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .skill-expand-btn:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
            background: rgba(0, 212, 255, 0.05);
        }

        .skill-level {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .skill-level-bar {
            flex: 1;
            height: 3px;
            background: var(--border-color);
            border-radius: 2px;
            overflow: hidden;
        }

        .skill-level-fill {
            height: 100%;
            background: var(--accent-color);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .skill-level-text {
            font-size: 0.7rem;
            color: var(--text-muted);
            min-width: 60px;
        }

        /* Projects Section */
        .projects {
            background: var(--bg-secondary);
        }

        .projects-marquee {
            overflow: visible;
            white-space: normal;
            padding: 0;
            min-height: auto;
        }

        .projects-track {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.5rem;
            max-width: 1100px;
            margin: 0 auto;
            animation: none;
        }

        .project-card[data-duplicate="true"] {
            display: none;
        }

        .project-card {
            background: var(--bg-color);
            border-radius: 12px;
            padding: 1.25rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            min-width: auto;
            min-height: 320px;
            flex-shrink: 0;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
            position: relative;
            overflow: hidden;
        }

        .project-thumb {
            width: 100%;
            height: 160px;
            margin: -1.25rem -1.25rem 1rem -1.25rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-secondary);
            overflow: hidden;
        }

        .project-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.4));
            opacity: 0;
            transition: opacity 0.25s ease;
            display: flex;
            align-items: flex-end;
            justify-content: flex-end;
            padding: 0.75rem;
        }

        .projects .card-overlay {
            display: none;
        }

        .project-card:hover .card-overlay {
            opacity: 1;
        }

        .overlay-chip {
            background: var(--accent-color);
            color: var(--bg-color);
            border-radius: 999px;
            padding: 0.35rem 0.7rem;
            font-size: 0.75rem;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .project-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .project-card h3 {
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .project-meta {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            margin-bottom: 1rem;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .project-card p {
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .project-bullets {
            margin: 0 0 1rem;
            padding-left: 1.1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .project-bullets li {
            margin-bottom: 0.35rem;
        }

        .project-links {
            display: flex;
            gap: 1rem;
        }

        .project-link {
            color: var(--accent-color);
            text-decoration: none;
            font-size: 0.8rem;
            transition: color 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .project-link:hover {
            color: var(--text-color);
            border-bottom-color: var(--accent-color);
        }

        /* Gallery Modal */
        .gallery-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .gallery-modal {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            max-width: 900px;
            width: 90%;
            padding: 1rem 1rem 1.25rem;
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.4);
        }

        .gallery-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 0.5rem 0.75rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 0.75rem;
        }

        .gallery-title {
            font-size: 1.25rem;
            color: var(--accent-color);
            font-weight: 600;
        }

        .gallery-close {
            background: none;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 999px;
            padding: 0.4rem 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-close:hover {
            background: var(--accent-color);
            color: var(--bg-color);
            transform: translateY(-2px);
        }

        .gallery-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
            padding: 0.5rem;
        }

        .gallery-images img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        }

        /* Gallery Marquee Section */
        .gallery {
            background: var(--bg-secondary);
        }

        .gallery-marquee {
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        .marquee-track {
            display: flex;
            gap: 12px;
            animation: marquee 22s linear infinite;
            min-height: 120px;
        }

        .marquee-track:hover {
            animation-play-state: paused;
        }

        .marquee-img {
            height: 120px;
            border-radius: 12px;
            box-shadow: 0 2px 12px 0 rgba(0, 0, 60, 0.14);
            background: #fff;
            object-fit: cover;
            flex-shrink: 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .marquee-img:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px 0 rgba(0, 0, 60, 0.24);
        }

        @keyframes marquee {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(-50%);
            }
        }

        /* Experience Timeline */
        .experience {
            background: var(--bg-color);
        }

        .timeline {
            max-width: 900px;
            margin: 0 auto;
            border-left: 2px solid var(--border-color);
            padding-left: 40px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 50px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -49px;
            top: 0;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--bg-color);
            border: 2px solid var(--accent-color);
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        .timeline-date {
            color: var(--accent-color);
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 5px;
            display: block;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeline-content {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .timeline-content h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .timeline-content ul {
            padding-left: 20px;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .timeline-content li {
            margin-bottom: 5px;
        }
        }

        /* Achievements Section */
        .achievements {
            background: var(--bg-secondary);
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .achievement-card {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: 0.3s;
        }

        .achievement-card:hover {
            border-color: var(--accent-color);
        }

        .achievement-card h3 {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .achievement-role {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: block;
        }

        .read-more {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            align-self: flex-start;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
        }

        .read-more:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
        }

        /* Modal Overlay for Achievements/Projects Details */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            width: 60vw;
            max-height: 85vh;
            overflow-y: auto;
            background: var(--bg-secondary);
            border: 1px solid var(--accent-color);
            border-radius: 20px;
            padding: 40px;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--bg-color);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2rem;
            color: var(--text-muted);
            cursor: pointer;
            border: none;
            background: none;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: var(--accent-color);
        }

        .modal-header h2 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            border: none;
        }

        .modal-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
            display: block;
        }

        .modal-body img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid var(--border-color);
        }

        .modal-body h3 {
            color: var(--accent-color);
            font-size: 1.5rem;
            margin: 20px 0 10px 0;
        }

        .modal-body p {
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 90vw;
                padding: 25px;
            }
        }


        /* Contact Section */
        .contact {
            background: var(--bg-secondary);
        }

        .contact-content {
            max-width: 1000px;
            margin: 0 auto;
            text-align: left;
        }

        .contact-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 768px) {
            .contact-layout {
                grid-template-columns: 1fr;
            }
        }

        .contact-links {
            display: grid;
            gap: 0.75rem;
            margin-bottom: 0;
        }

        .contact-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .contact-link:hover {
            color: var(--accent-color);
        }

        .contact-link::before {
            content: '';
            width: 1px;
            height: 20px;
            background: var(--border-color);
            margin-right: 1rem;
        }

        .contact-links .contact-link::before {
            display: none;
        }

        .contact-link:first-child::before {
            display: none;
        }

        .contact-form {
            background: var(--bg-color);
            padding: 2rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            max-width: none;
            margin: 0;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.35rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
            font-family: inherit;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: var(--text-muted);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .submit-btn {
            background: var(--accent-color);
            color: var(--bg-color);
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .contact-success {
            margin-top: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            background: rgba(var(--bg-secondary-rgb, 26, 26, 26), 0.65);
            color: var(--text-secondary);
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: #333;
            z-index: 1001;
        }

        .scroll-progress {
            height: 100%;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            width: 0%;
            transition: width 0.1s ease;
        }
    </style>
</head>

<body>
    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <div class="scroll-progress" id="scrollProgress"></div>
    </div>

    <!-- Intro Section -->
    <div class="intro" id="intro">
        <span>நான் திஜே</span> <!-- Tamil -->
        <span>मैं डिजे</span> <!-- Hindi -->
        <span>أنا ديجي</span> <!-- Arabic -->
        <span>Je suis DiJay</span> <!-- French -->
        <span>I'm DiJay</span> <!-- English -->
    </div>

    <!-- Main Content -->
    <div class="main" id="main">
        <!-- Top Navigation -->
        <nav class="top-navbar">
            <div class="top-nav-container">
                <div class="top-logo">Diwaakar Jayaprakash</div>
                <ul class="top-nav-menu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#skills">Skills</a></li>
                    <li><a href="#experience">Experience</a></li>
                    <li><a href="#achievements">Achievements</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <button class="top-theme-toggle" id="topModeToggle">Dark/Light</button>
            </div>
        </nav>

        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-content">
                <div class="hero-topbar">
                    <div class="hero-avatar">
                        <img src="PFP.jpg" alt="Diwaakar Jayaprakash">
                        <div>
                            <div style="font-weight: 700; color: var(--text-color); line-height: 1.1;">Diwaakar J</div>
                            <div style="font-size: 0.9rem; color: var(--text-muted);">Mechanical Engineering</div>
                        </div>
                    </div>
                    <button class="hero-theme-toggle" id="heroThemeToggle" type="button" aria-label="Toggle theme"
                        title="Toggle theme">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" stroke="currentColor" stroke-width="2" />
                            <path
                                d="M12 2v2M12 20v2M4 12H2M22 12h-2M5 5l1.4 1.4M17.6 17.6 19 19M19 5l-1.4 1.4M6.4 17.6 5 19"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </button>
                </div>

                <div>
                    <p class="tagline">Mechanical engineering undergraduate specializing in CAD, simulation, and rover
                        systems. I work end-to-end across design, prototyping, and testing, with hands-on experience
                        from international robotics competitions and industry exposure.</p>
                </div>

                <div class="hero-actions">
                    <a class="btn btn-primary" href="#projects">View Projects</a>
                    <a class="btn btn-secondary" href="260209_Diwaakar-Resume.pdf" download>Download CV</a>
                    <a class="btn btn-secondary" href="#contact">Contact</a>
                </div>

                <div class="hero-links" aria-label="Quick links">
                    <a href="#projects">Projects</a><span class="hero-links-sep">·</span>
                    <a href="#skills">Skills</a><span class="hero-links-sep">·</span>
                    <a href="#experience">Experience</a>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="section skills">
            <h2 class="section-title">Skills</h2>
            <div class="skills-grid">
                <div class="skill-category" onclick="openModal('skill_cad', 'skill')">
                    <h3>CAD & Design</h3>
                    <ul class="skill-list">
                        <li>SolidWorks</li>
                        <li>Fusion 360</li>
                        <li>OnShape</li>
                        <li>AutoCAD</li>
                    </ul>
                    <div class="skill-level">
                        <div class="skill-level-bar">
                            <div class="skill-level-fill" style="width: 70%"></div>
                        </div>
                        <span class="skill-level-text">Intermediate</span>
                    </div>
                    <button class="skill-expand-btn">View Details</button>
                </div>
                <div class="skill-category" onclick="openModal('skill_simulation', 'skill')">
                    <h3>Simulation & Analysis</h3>
                    <ul class="skill-list">
                        <li>ANSYS</li>
                        <li>MATLAB</li>
                        <li>Basic FEA</li>
                        <li>CFD</li>
                    </ul>
                    <div class="skill-level">
                        <div class="skill-level-bar">
                            <div class="skill-level-fill" style="width: 45%"></div>
                        </div>
                        <span class="skill-level-text">Advanced Beginner</span>
                    </div>
                    <button class="skill-expand-btn">View Details</button>
                </div>
                <div class="skill-category" onclick="openModal('skill_programming', 'skill')">
                    <h3>Programming</h3>
                    <ul class="skill-list">
                        <li>Python</li>
                        <li>MATLAB</li>
                        <li>MySQL</li>
                        <li>C</li>
                    </ul>
                    <div class="skill-level">
                        <div class="skill-level-bar">
                            <div class="skill-level-fill" style="width: 55%"></div>
                        </div>
                        <span class="skill-level-text">Intermediate</span>
                    </div>
                    <button class="skill-expand-btn">View Details</button>
                </div>
                <div class="skill-category" onclick="openModal('skill_manufacturing', 'skill')">
                    <h3>Manufacturing</h3>
                    <ul class="skill-list">
                        <li>CNC Machining</li>
                        <li>3D Printing</li>
                        <li>Laser Cutting</li>
                        <li>Rapid Prototyping</li>
                    </ul>
                    <div class="skill-level">
                        <div class="skill-level-bar">
                            <div class="skill-level-fill" style="width: 60%"></div>
                        </div>
                        <span class="skill-level-text">Intermediate</span>
                    </div>
                    <button class="skill-expand-btn">View Details</button>
                </div>
                <div class="skill-category" onclick="openModal('skill_documentation', 'skill')">
                    <h3>Documentation</h3>
                    <ul class="skill-list">
                        <li>Canva</li>
                        <li>PowerPoint</li>
                        <li>Google Sheets</li>
                        <li>Technical Writing</li>
                    </ul>
                    <div class="skill-level">
                        <div class="skill-level-bar">
                            <div class="skill-level-fill" style="width: 80%"></div>
                        </div>
                        <span class="skill-level-text">Advanced</span>
                    </div>
                    <button class="skill-expand-btn">View Details</button>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section projects">
            <h2 class="section-title">Projects</h2>
            <div class="projects-marquee">
                <div class="projects-track">
                    <div class="project-card" data-project="science-cache">
                        <div class="project-thumb"><img src="PFP.jpg" alt="Science Cache System"></div>
                        <h3>Science Cache System</h3>
                        <div class="project-meta">
                            <span>Tools: Fusion 360, OnShape, Rapid Prototyping</span>
                            <span>Role: Designer & Integrator</span>
                        </div>
                        <ul class="project-bullets">
                            <li>Goal: modular sample storage for IRC 2025.</li>
                            <li>Ownership: mechanical design + system integration.</li>
                            <li>Impact: contributed to subsystem integration and competition readiness.</li>
                        </ul>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="science-cache">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>
                    <div class="project-card" data-project="mini-rover">
                        <div class="project-thumb"><img src="PFP.jpg" alt="Mini Rover Chassis"></div>
                        <h3>Mini Rover Chassis</h3>
                        <div class="project-meta">
                            <span>Tools: SolidWorks (CAD/Simulation)</span>
                            <span>Role: Designer</span>
                        </div>
                        <ul class="project-bullets">
                            <li>Goal: compact rover chassis for team development work.</li>
                            <li>Ownership: CAD + motion/structural simulations.</li>
                            <li>Impact: improved design iteration speed through simulation-driven checks.</li>
                        </ul>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="mini-rover">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>
                    <div class="project-card" data-project="erc-2025">
                        <div class="project-thumb"><img src="PFP.jpg" alt="ERC 2025 Rover Modules"></div>
                        <h3>Gripper & Modular Chassis (ERC 2025)</h3>
                        <div class="project-meta">
                            <span>Tools: CAD, CNC machining, 3D printing</span>
                            <span>Role: Mechanical Team Member</span>
                        </div>
                        <ul class="project-bullets">
                            <li>Goal: rover modules for ERC 2025 development.</li>
                            <li>Ownership: mechanical contributions across CAD and fabrication.</li>
                            <li>Impact: supported modular build and rapid fabrication for testing cycles.</li>
                        </ul>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="erc-2025">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>

                    <!-- Duplicate cards for seamless scrolling -->
                    <div class="project-card" data-project="science-cache" data-duplicate="true" aria-hidden="true">
                        <div class="project-thumb"><img src="PFP.jpg" alt="Science Cache System"></div>
                        <h3>Science Cache System</h3>
                        <div class="project-meta">
                            <span>Tools: Fusion 360, OnShape, Rapid Prototyping</span>
                            <span>Role: Designer & Integrator</span>
                        </div>
                        <p>Modular sample storage for IRC 2025 competition; led system integration.</p>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="science-cache">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>
                    <div class="project-card" data-project="mini-rover" data-duplicate="true" aria-hidden="true">
                        <div class="project-thumb"><img src="PFP.jpg" alt="Mini Rover Chassis"></div>
                        <h3>Mini Rover Chassis</h3>
                        <div class="project-meta">
                            <span>Tools: SolidWorks (CAD/Simulation)</span>
                            <span>Role: Designer</span>
                        </div>
                        <p>Chassis design & motion/structural simulations, built for MaRS Rover Society.</p>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="mini-rover">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>
                    <div class="project-card" data-project="erc-2025" data-duplicate="true" aria-hidden="true">
                        <div class="project-thumb"><img src="PFP.jpg" alt="ERC 2025 Rover Modules"></div>
                        <h3>Gripper & Modular Chassis (ERC 2025)</h3>
                        <div class="project-meta">
                            <span>Tools: CAD, CNC machining, 3D printing</span>
                            <span>Role: Mechanical Team Member</span>
                        </div>
                        <p>Ongoing rover competition project with CAD, CNC machining, 3D printing for rover competition.
                        </p>
                        <div class="project-links">
                            <a href="https://github.com/Just0DJ" class="project-link" target="_blank"
                                rel="noopener">GitHub</a>
                            <a href="#" class="project-link gallery-link" data-gallery="erc-2025">Gallery</a>
                        </div>
                        <div class="card-overlay" aria-hidden="true"><span class="overlay-chip">Preview</span></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Experience Timeline -->
        <section id="experience" class="section experience">
            <h2 class="section-title">Experience</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <span class="timeline-date">May 2025 - Jul 2025</span>
                    <div class="timeline-content">
                        <h3>Engineering Intern - Tech Mahindra (Client: ASML)</h3>
                        <ul>
                            <li>Operated high-throughput semiconductor equipment (1000+ outputs/min); developed
                                MATLAB/Python pipeline for CPD analysis</li>
                            <li>Performed volumetric constraint analysis in Siemens NX for equipment optimization</li>
                            <li>Delivered technical presentations on semiconductor manufacturing processes</li>
                        </ul>
                    </div>
                </div>
                <div class="timeline-item">
                    <span class="timeline-date">Mar 2025 - Apr 2025</span>
                    <div class="timeline-content">
                        <h3>Research Assistant - EV Safety & Battery Systems</h3>
                        <ul>
                            <li>Conducted thermal analysis of Li-ion battery circuits using ANSYS Thermal and infrared
                                imaging</li>
                            <li>Performed circuit load analysis for research publication</li>
                            <li>Assisted in prototype manufacturing and testing</li>
                        </ul>
                    </div>
                </div>
                <div class="timeline-item">
                    <span class="timeline-date">Apr 2024 - Feb 2025</span>
                    <div class="timeline-content">
                        <h3>Mechanical Design Engineer - Mars Research Station</h3>
                        <ul>
                            <li>Designed 6-beaker autonomous sample collection system with helical screw drilling
                                actuator</li>
                            <li>Engineered modular rover chassis; performed SolidWorks Motion Analysis</li>
                            <li>Led onsite assembly and 6-DoF manipulator integration at IRC 2025</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Achievements Section -->
        <section id="achievements" class="section achievements">
            <h2 class="section-title">Achievements</h2>
            <div class="achievements-grid">
                <div class="achievement-card">
                    <div>
                        <h3>European Rover Challenge 2025</h3>
                        <span class="achievement-role">Rank: 4th Global | Role: Mechanical Member</span>
                    </div>
                    <button class="read-more" onclick="openModal('ach_1', 'achievement')">Read Details</button>
                </div>
                <div class="achievement-card">
                    <div>
                        <h3>International Rover Challenge 2025</h3>
                        <span class="achievement-role">Rank: 16th Global | Role: Systems Integration</span>
                    </div>
                    <button class="read-more" onclick="openModal('ach_2', 'achievement')">Read Details</button>
                </div>
                <div class="achievement-card">
                    <div>
                        <h3>International Rover Challenge 2026</h3>
                        <span class="achievement-role">Rank: 10th Global | Role: Mechanical Design</span>
                    </div>
                    <button class="read-more" onclick="openModal('ach_3', 'achievement')">Read Details</button>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section contact">
            <h2 class="section-title">Contact</h2>
            <div class="contact-content">
                <div class="contact-layout">
                    <div class="contact-links">
                        <a href="/cdn-cgi/l/email-protection#82e6ebf5e3e3e9e3f0e8e3fbe3f2f0e3e9e3f1eac2e5efe3ebeeace1edef"
                            class="contact-link">Email:
                            <span class="__cf_email__"
                                data-cfemail="26424f5147474d47544c475f475654474d47554e66414b474f4a0845494b">[email&#160;protected]</span></a>
                        <a href="https://linkedin.com/in/ImDijay" class="contact-link">LinkedIn: /in/ImDijay</a>
                        <a href="https://github.com/Just0DJ" class="contact-link">GitHub: /Just0DJ</a>
                        <a href="250921_Diwaakar-Resume.pdf" class="contact-link" download>Resume (PDF)</a>
                    </div>
                    <form class="contact-form" id="contactForm">
                        <div class="form-group">
                            <label for="contactName">Name</label>
                            <input id="contactName" name="name" type="text" autocomplete="name" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Email</label>
                            <input id="contactEmail" name="email" type="email" autocomplete="email" required>
                        </div>
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea id="contactMessage" name="message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Send message</button>
                        <div id="contactSuccess" class="contact-success" hidden role="status"></div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Gallery Modal -->
        <div id="galleryModal" class="gallery-modal-overlay" hidden>
            <div class="gallery-modal" role="dialog" aria-modal="true" aria-labelledby="galleryTitle">
                <div class="gallery-header">
                    <div id="galleryTitle" class="gallery-title">Gallery</div>
                    <button id="galleryClose" class="gallery-close">Close</button>
                </div>
                <div id="galleryImages" class="gallery-images">
                    <!-- Images injected by script -->
                </div>
            </div>
        </div>

        <!-- Achievement/Project Details Modal -->
        <div class="modal-overlay" id="universalModal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal()">&times;</button>
                <div class="modal-header">
                    <h2 id="mTitle">Title</h2>
                    <span id="mSubtitle" class="modal-subtitle">Subtitle</span>
                </div>
                <div class="modal-body" id="mBody">
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Floating Menu -->
    <div class="bottom-menu">
        <button class="scroll-up" id="scrollUp">↑</button>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script>
        // Animation control variables
        let skipping = false;
        let animationSpeed = 1500; // Default 1.5 seconds per text
        let currentTextIndex = 0;
        const introTexts = [
            'நான் டிஜே', 'मैं डिजे', 'أنا ديجي', 'Je suis DiJay', 'I am DiJay'
        ];

        // Theme and accent color management
        const accentColors = [
            '#00d4ff', '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4',
            '#feca57', '#ff9ff3', '#54a0ff', '#5f27cd', '#00d2d3',
            '#ff4757', '#2ed573', '#ffa502', '#ff6348', '#5352ed',
            '#ff3838', '#32ff7e', '#ff9f1a', '#ff6b9d', '#4834d4',
            '#00d2d3', '#ff7675', '#74b9ff', '#a29bfe', '#fd79a8'
        ];

        function getRandomAccentColor() {
            return accentColors[Math.floor(Math.random() * accentColors.length)];
        }

        function updateAccentColor(color) {
            document.documentElement.style.setProperty('--accent-color', color);
        }

        // Gradient theme cycling
        const gradientThemes = [
            { name: 'aurora', colors: ['#00d2d3', '#5f27cd', '#54a0ff'] },
            { name: 'sunset', colors: ['#ff6b6b', '#feca57', '#ff9f1a'] },
            { name: 'ocean', colors: ['#00d4ff', '#0099cc', '#4ecdc4'] },
            { name: 'forest', colors: ['#2ed573', '#1e7e34', '#00b894'] }
        ];

        function applyGradientTheme(theme) {
            const [c1, c2, c3] = theme.colors;
            document.documentElement.style.setProperty('--grad1', c1);
            document.documentElement.style.setProperty('--grad2', c2);
            document.documentElement.style.setProperty('--grad3', c3);
            updateAccentColor(c1);
            localStorage.setItem('gradientTheme', theme.name);
        }

        function cycleTheme() {
            const saved = localStorage.getItem('gradientTheme') || gradientThemes[0].name;
            const idx = gradientThemes.findIndex(t => t.name === saved);
            const next = gradientThemes[(idx + 1) % gradientThemes.length];
            applyGradientTheme(next);
        }

        // Animation progression control
        function startIntroAnimation() {
            const intro = document.getElementById('intro');
            const main = document.getElementById('main');

            // Hide menu during animation
            const bottomMenu = document.querySelector('.bottom-menu');
            bottomMenu.style.display = 'none';

            function showNextText() {
                // Hide all texts
                const spans = intro.querySelectorAll('span');
                spans.forEach(span => {
                    span.style.opacity = '0';
                });

                // Show current text
                if (spans[currentTextIndex]) {
                    spans[currentTextIndex].style.opacity = '1';
                }

                currentTextIndex++;

                if (currentTextIndex >= spans.length) {
                    // Animation complete, transition to main content
                    setTimeout(() => {
                        intro.style.opacity = '0';
                        setTimeout(() => {
                            intro.style.display = 'none';
                            main.classList.add('active');
                            document.body.style.overflow = 'auto';
                            // Show menu after animation
                            bottomMenu.style.display = 'flex';
                            bottomMenu.classList.add('show');
                        }, 2000);
                    }, skipping ? 100 : 2000);
                    return;
                }

                // Schedule next text
                setTimeout(showNextText, skipping ? 100 : animationSpeed);
            }

            showNextText();
        }

        // Keyboard and mouse controls for animation
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                skipping = true;
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.code === 'Space') {
                skipping = false;
            }
        });

        document.addEventListener('mousedown', () => {
            skipping = true;
        });

        document.addEventListener('mouseup', () => {
            skipping = false;
        });

        // Bottom menu functionality
        // Theme mode (dark/light)
        const THEME_MODE_KEY = 'themeMode';
        function applyThemeMode(mode) {
            if (mode === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            } else {
                document.documentElement.removeAttribute('data-theme');
            }
            localStorage.setItem(THEME_MODE_KEY, mode);
        }

        function toggleThemeMode() {
            const isLight = document.documentElement.getAttribute('data-theme') === 'light';
            applyThemeMode(isLight ? 'dark' : 'light');
        }

        function setupBottomMenu() {
            const scrollUpBtn = document.getElementById('scrollUp');
            const topModeBtn = document.getElementById('topModeToggle');
            const heroModeBtn = document.getElementById('heroThemeToggle');

            // Scroll to top
            if (scrollUpBtn) {
                scrollUpBtn.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // Dark/Light toggle
            if (topModeBtn) topModeBtn.addEventListener('click', toggleThemeMode);
            if (heroModeBtn) heroModeBtn.addEventListener('click', toggleThemeMode);
        }

        // Scroll reveal for sections
        function setupScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.15 });

            document.querySelectorAll('.section').forEach(sec => observer.observe(sec));
        }

        // Intro animation logic
        document.addEventListener('DOMContentLoaded', () => {
            const intro = document.getElementById('intro');
            const main = document.getElementById('main');

            // Initialize theme mode from storage
            const savedMode = localStorage.getItem(THEME_MODE_KEY);
            applyThemeMode(savedMode === 'light' ? 'light' : 'dark');

            // Setup bottom menu and scroll reveal
            setupBottomMenu();
            setupScrollReveal();

            // Start intro animation
            startIntroAnimation();
        });

        // Scroll progress indicator and color changes
        let lastScrollY = 0;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            const scrollProgress = document.getElementById('scrollProgress');
            if (scrollProgress) {
                scrollProgress.style.width = scrollPercent + '%';
            }

            // Color change on scroll (both up and down) - every 100px scroll
            const scrollChange = Math.abs(scrollTop - lastScrollY);
            if (scrollChange >= 100) {
                updateAccentColor(getRandomAccentColor());
                lastScrollY = scrollTop;
            }
        });

        // Contact form handling
        document.getElementById('contactForm')?.addEventListener('submit', function (e) {
            e.preventDefault();
            const success = document.getElementById('contactSuccess');
            if (success) {
                success.hidden = false;
                success.textContent = 'Thanks — your message is ready to send. This form is currently a demo (no backend).';
            }
        });

        // Gallery modal handling
        const galleryModal = document.getElementById('galleryModal');
        const galleryTitle = document.getElementById('galleryTitle');
        const galleryImagesEl = document.getElementById('galleryImages');
        const galleryCloseBtn = document.getElementById('galleryClose');

        // Ensure modal starts hidden
        if (galleryModal) {
            galleryModal.hidden = true;
            galleryModal.style.display = 'none';
        }

        const projectData = {
            'science-cache': {
                title: 'Science Cache System',
                desc: 'Modular sample storage system designed for IRC 2025, focusing on reliability and integration.'
            },
            'mini-rover': {
                title: 'Mini Rover Chassis',
                desc: 'Lightweight chassis with CAD and simulation studies for traction and load.'
            },
            'erc-2025': {
                title: 'ERC 2025 Rover Modules',
                desc: 'Gripper and modular chassis components with CNC and 3D printing.'
            }
        };

        async function resolveGalleryImages(key) {
            const manifestUrl = `gallery/${key}/manifest.json`;
            try {
                const res = await fetch(manifestUrl);
                if (res.ok) {
                    const json = await res.json();
                    if (Array.isArray(json.images)) {
                        return json.images.map(name => `gallery/${key}/${name}`);
                    }
                }
            } catch (_) { }
            const candidates = [];
            const exts = ['jpg', 'png', 'jpeg', 'webp'];
            for (let i = 1; i <= 20; i++) {
                for (const ext of exts) {
                    candidates.push(`gallery/${key}/${i}.${ext}`);
                }
            }
            const results = await Promise.allSettled(candidates.map(src => probeImage(src)));
            return results.filter(r => r.status === 'fulfilled').map(r => r.value);
        }

        function probeImage(src) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => resolve(src);
                img.onerror = () => reject();
                img.src = src;
            });
        }

        const firstImageCache = {};
        async function getFirstImage(key) {
            if (firstImageCache[key]) return firstImageCache[key];
            const imgs = await resolveGalleryImages(key);
            firstImageCache[key] = imgs[0] || null;
            return firstImageCache[key];
        }

        async function openGallery(key) {
            const data = projectData[key] || {};
            const images = await resolveGalleryImages(key);
            galleryTitle.textContent = (data.title) || key.replace(/-/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
            const details = data.desc ? `<p style="color: var(--text-secondary); margin: 0.5rem 0 1rem">${data.desc}</p>` : '';
            const content = images.length
                ? images.map(src => `<img src="${src}" alt="${key} preview">`).join('')
                : `<p style="color: var(--text-secondary);">No images found. Add files under <code>gallery/${key}/</code> or create <code>manifest.json</code>.</p>`;
            galleryImagesEl.innerHTML = details + content;
            galleryModal.hidden = false;
            galleryModal.style.display = 'flex';
        }

        function closeGallery() {
            galleryModal.hidden = true;
            galleryModal.style.display = 'none';
            galleryImagesEl.innerHTML = '';
        }

        document.querySelectorAll('.gallery-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const key = link.getAttribute('data-gallery');
                openGallery(key);
            });
        });

        // Open gallery when clicking on project card
        document.querySelectorAll('.project-card').forEach(card => {
            card.addEventListener('click', (e) => {
                if (e.target && e.target.closest && e.target.closest('a')) return;
                const key = card.getAttribute('data-project');
                if (key) openGallery(key);
            });

            // Hover preview inside card
            let hoverTimer;
            card.addEventListener('mouseenter', () => {
                hoverTimer = setTimeout(async () => {
                    const key = card.getAttribute('data-project');
                    const img = await getFirstImage(key);
                    if (!img) return;
                    const preview = document.createElement('div');
                    preview.className = 'hover-preview';
                    preview.style.position = 'absolute';
                    preview.style.top = '12px';
                    preview.style.right = '12px';
                    preview.style.background = 'rgba(0,0,0,0.7)';
                    preview.style.border = '1px solid var(--border-color)';
                    preview.style.borderRadius = '10px';
                    preview.style.overflow = 'hidden';
                    preview.style.boxShadow = '0 10px 24px rgba(0,0,0,0.35)';
                    preview.style.backdropFilter = 'blur(4px)';
                    preview.innerHTML = `<img src="${img}" alt="preview" style="width:160px;height:100px;object-fit:cover;display:block">`;
                    card.appendChild(preview);
                }, 180);
            });
            card.addEventListener('mouseleave', () => {
                clearTimeout(hoverTimer);
                const hp = card.querySelector('.hover-preview');
                if (hp) hp.remove();
            });
        });

        galleryCloseBtn.addEventListener('click', closeGallery);
        galleryModal.addEventListener('click', (e) => {
            // Close when clicking outside the modal content
            if (!e.target.closest('.gallery-modal')) closeGallery();
        });

        // Close on Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !galleryModal.hidden) {
                closeGallery();
            }
        });

        // Gallery Marquee Functionality
        const marqueeTrack = document.getElementById('marqueeTrack');
        const imgUpload = document.getElementById('imgUpload');
        let uploadedImages = [];

        // Handle image upload
        if (imgUpload) {
            imgUpload.addEventListener('change', (e) => {
                const files = Array.from(e.target.files);

                files.forEach(file => {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function (ev) {
                            const img = document.createElement('img');
                            img.src = ev.target.result;
                            img.className = 'marquee-img';
                            img.alt = file.name;
                            img.title = file.name;

                            // Add to track
                            marqueeTrack.appendChild(img);
                            uploadedImages.push(img);

                            // Create duplicate for seamless scrolling
                            const imgDuplicate = img.cloneNode(true);
                            marqueeTrack.appendChild(imgDuplicate);

                            // Adjust animation speed based on number of images
                            updateMarqueeSpeed();
                        };
                        reader.readAsDataURL(file);
                    }
                });

                // Clear input to allow re-uploading same files
                e.target.value = '';
            });
        }

        // Update marquee animation speed based on content
        function updateMarqueeSpeed() {
            const totalImages = marqueeTrack.children.length;
            if (totalImages > 0) {
                // Slower animation for more images
                const duration = Math.max(15, 22 + (totalImages * 0.5));
                marqueeTrack.style.animationDuration = `${duration}s`;
            }
        }

        // Add drag and drop functionality
        const galleryMarquee = document.querySelector('.gallery-marquee');
        if (galleryMarquee) {
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                galleryMarquee.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                galleryMarquee.addEventListener(eventName, () => {
                    galleryMarquee.style.background = 'var(--frost-bg)';
                    galleryMarquee.style.border = '2px dashed var(--accent-color)';
                });
            });

            ['dragleave', 'drop'].forEach(eventName => {
                galleryMarquee.addEventListener(eventName, () => {
                    galleryMarquee.style.background = '';
                    galleryMarquee.style.border = '';
                });
            });

            galleryMarquee.addEventListener('drop', (e) => {
                const dt = e.dataTransfer;
                const files = dt.files;

                if (files.length > 0) {
                    imgUpload.files = files;
                    const event = new Event('change', { bubbles: true });
                    imgUpload.dispatchEvent(event);
                }
            });
        }

        // Add some default images if none uploaded
        if (marqueeTrack && marqueeTrack.children.length === 0) {
            const defaultImages = [
                'PFP.jpg',
                'PFP.jpg',
                'PFP.jpg',
                'PFP.jpg',
                'PFP.jpg'
            ];

            defaultImages.forEach((src, index) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'marquee-img';
                img.alt = `Gallery image ${index + 1}`;
                img.title = `Gallery image ${index + 1}`;
                marqueeTrack.appendChild(img);

                // Duplicate for seamless scroll
                const imgDup = img.cloneNode(true);
                marqueeTrack.appendChild(imgDup);
            });

            updateMarqueeSpeed();
        }

        // --- MODAL LOGIC FOR ACHIEVEMENTS ---
        const achievements = [
            {
                id: 'ach_1',
                title: "European Rover Challenge 2025",
                role: "Mechanical Team Member",
                details: "<h3>The Challenge</h3><p>One of the world's toughest robotics competitions held in Poland. We ranked 4th globally out of 26 teams.</p><h3>My Contribution</h3><p>I focused on the rapid repair and maintenance of the rover during the competition. I also designed the modular mounting system that allowed us to swap payloads (drill vs. arm) in under 5 minutes, which was critical for meeting tight competition deadlines.</p>"
            },
            {
                id: 'ach_2',
                title: "International Rover Challenge 2025",
                role: "Systems Integration",
                details: "<h3>The Challenge</h3><p>Held in Goa, India, this competition required traversing rough terrain and completing multiple science tasks. We ranked 16th globally out of 226 teams.</p><h3>My Contribution</h3><p>Led the integration of the Science Cache system with the main chassis. Solved critical vibration issues by designing custom TPU dampeners that reduced payload oscillation by 60% during terrain navigation.</p>"
            },
            {
                id: 'ach_3',
                title: "International Rover Challenge 2026",
                role: "Mechanical Design",
                details: "<h3>The Challenge</h3><p>Held in Udupi, India, this competition focused on advanced autonomous navigation and sample collection. We ranked 10th globally out of 50+ teams.</p><h3>My Contribution</h3><p>Designed and implemented the 6-beaker carousel system with helical screw drilling mechanism. Optimized the actuator configuration to minimize power consumption while maintaining reliable sample collection capability. Also contributed to technical documentation and team management.</p>"
            }
        ];

        const skills = [
            {
                id: 'skill_cad',
                title: "CAD & Design",
                level: "Intermediate",
                details: "<h3>SolidWorks</h3><p>Primary tool for rover chassis design, motion analysis, and structural simulation. Used extensively for MaRS Rover Society projects including suspension kinematics validation and obstacle clearance analysis.</p><h3>Fusion 360</h3><p>Used for mechanical design iteration, generative design exploration, and photorealistic rendering during rover subsystem development.</p><h3>OnShape</h3><p>Cloud-based collaborative CAD for team workflows, allowing real-time design collaboration across team members.</p><h3>AutoCAD</h3><p>2D drafting and technical drawings for manufacturing documentation and assembly instructions.</p>"
            },
            {
                id: 'skill_simulation',
                title: "Simulation & Analysis",
                level: "Advanced Beginner",
                details: "<h3>ANSYS Thermal</h3><p>Conducted thermal analysis of lithium-ion battery circuits under various load conditions for EV Safety & Battery Systems research. Characterized temperature distribution profiles using thermal imaging validation.</p><h3>MATLAB</h3><p>CPD (Chemical Process Data) analysis during Tech Mahindra internship. Developed automated data processing pipelines for real-time production monitoring with 1000+ outputs per minute.</p><h3>FEA Basics</h3><p>Fundamental finite element analysis for stress concentration identification and structural validation of mechanical components.</p><h3>CFD Fundamentals</h3><p>Basic computational fluid dynamics knowledge applied to thermal management and airflow analysis.</p>"
            },
            {
                id: 'skill_programming',
                title: "Programming",
                level: "Intermediate",
                details: "<h3>Python</h3><p>Scripting and data handling for engineering tasks. Used for automation of repetitive analysis tasks and data visualization during internship work.</p><h3>MATLAB</h3><p>Engineering analysis, numerical computing, and dashboard creation for process monitoring systems.</p><h3>MySQL</h3><p>Basic database querying and data organization for project management and data storage.</p><h3>C</h3><p>Fundamentals for embedded programming coursework and low-level system understanding.</p>"
            },
            {
                id: 'skill_manufacturing',
                title: "Manufacturing",
                level: "Intermediate",
                details: "<h3>CNC Machining</h3><p>Hands-on fabrication and iteration for rover parts. Managed CNC machining workflows for precision components with tight tolerances. Design for Manufacturing (DFM) principles applied.</p><h3>3D Printing (FDM/Resin)</h3><p>Rapid prototyping for fit checks, functional testing, and final parts. Fabricated Science Cache System prototype using PLA material with iterative design modifications for dust-sealing.</p><h3>Laser Cutting</h3><p>Quick fabrication for fixtures, panels, and sheet metal components.</p><h3>Rapid Prototyping</h3><p>Fast iteration cycles combining multiple manufacturing methods for optimal part validation before final production.</p>"
            },
            {
                id: 'skill_documentation',
                title: "Documentation",
                level: "Advanced",
                details: "<h3>Technical Writing</h3><p>Competition-grade technical documentation for ERC and IRC submissions. Clear communication of design intent, testing protocols, and subsystem specifications for international competitions.</p><h3>PowerPoint/Slides</h3><p>Professional presentations for competition judges, technical demonstrations, and team updates. Delivered technical presentation on semiconductor manufacturing processes at Tech Mahindra.</p><h3>Google Sheets</h3><p>Project tracking, data analysis, BOM management, and lightweight reporting for team coordination.</p><h3>Canva</h3><p>Team branding design including promotional materials, social media graphics, and competition banners.</p>"
            }
        ];

        const modal = document.getElementById('universalModal');

        function openModal(id, type) {
            let data;
            if (type === 'achievement') {
                data = achievements.find(x => x.id === id);
            } else if (type === 'skill') {
                data = skills.find(x => x.id === id);
            }

            if (!data) return;

            document.getElementById('mTitle').innerText = data.title;
            document.getElementById('mSubtitle').innerText = data.role || data.level || '';
            document.getElementById('mBody').innerHTML = data.details;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal on click outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape" && modal.classList.contains('active')) {
                closeModal();
            }
        });

    </script>
</body>

</html>
